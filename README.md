# MelDict Skill - Музыкальный Диктант для Алисы

Навык "Музыкальный Диктант" для голосового помощника Яндекс.Алиса - это интерактивное приложение для развития музыкального слуха и обучения теории музыки.

## Описание проекта

MelDict Skill - это образовательный навык для Яндекс.Алисы, который помогает пользователям развивать музыкальный слух через различные упражнения с аккордами и интервалами. Навык использует синтез звука для воспроизведения музыкальных элементов и предоставляет интерактивный интерфейс для обучения.

### Основные возможности

- Воспроизведение музыкальных интервалов и аккордов
- Различные режимы обучения и тренировки
- Интерактивное голосовое взаимодействие
- Система отслеживания прогресса
- Адаптивное обучение

### Требования к системе

- Python 3.12
- FluidSynth
- ffmpeg

### Зависимости

Основные зависимости проекта находятся в файле `requirements.txt`. Ключевые компоненты:

- aliceio - библиотека для работы с Яндекс.Алисой
- aiohttp - асинхронный веб-сервер
- pandas - для работы с данными
- watchdog - для отслеживания изменений файлов

## Структура проекта

```
├── data/                      # Данные и ресурсы
│   ├── default_sound_font.sf2 # SoundFont для синтеза звука
│   ├── main.csv              # База данных аккордов и интервалов
│   ├── meldict.crt           # SSL сертификат
│   ├── meldict.key           # SSL ключ
│   ├── tts.csv              # База данных для Text-to-Speech
│   └── websounds_test.csv    # База данных звуковых файлов
├── engine/                    # Основной движок
│   ├── alice/                # Модули для работы с Алисой
│   │   ├── alice_engine.py
│   │   ├── alice_handlers.py
│   │   └── alice_websounds.py
│   ├── levels/               # Уровни и режимы игры
│   │   ├── base_level.py
│   │   ├── cadence_level.py
│   │   ├── demo_level.py
│   │   ├── exam_level.py
│   │   └── ...
│   ├── maindb.py             # Работа с основной базой данных
│   ├── meldictengine.py      # Основной движок приложения
│   ├── musicnote.py          # Работа с музыкальными нотами
│   └── musicnotesequence.py  # Последовательности нот
├── scripts/                  # Скрипты для развертывания
│   ├── create_cert.sh
│   ├── deploy.sh
│   ├── run.sh
│   └── service.sh
├── config.json            # Конфигурация приложения
├── config.py              # Классы конфигурации
├── main.py                # Точка входа приложения
├── voice_menu.json        # Структура голосового меню
└── yandex_function.py     # Обработчик для Yandex Cloud Functions
```

## Конфигурация

Конфигурация приложения хранится в `config.json` и включает следующие основные секции:

- `network` - настройки сетевого соединения
- `data` - пути к файлам данных и ресурсам
- `skill` - идентификатор и токен навыка Алисы
- `debug` - настройки отладки

## Запуск приложения

1. Установите зависимости:
```bash
pip install -r requirements.txt
```

2. Настройте конфигурацию в `config.json`:
- Укажите `skill.id` и `skill.oauth_token`
- Настройте параметры сети в секции `network`

3. Запустите сервер:
```bash
python -m main
```

Или используйте скрипт:
```bash
./scripts/run.sh
```

## Развертывание

Для развертывания на сервере используйте скрипты в папке `scripts/`:

- `create_cert.sh` - создание SSL сертификата
- `deploy.sh` - развертывание приложения
- `service.sh` - управление системным сервисом

## Разработка

### Основные компоненты

1. **Alice Engine** (`engine/alice/alice_engine.py`)
   - Основной движок для работы с Алисой
   - Обработка команд и генерация ответов
   - Управление состоянием диалога

2. **Levels** (`engine/levels/`)
   - Различные режимы и уровни обучения
   - Реализация игровой логики
   - Генерация упражнений

3. **Music Engine** (`engine/musicnote.py`, `engine/musicnotesequence.py`)
   - Работа с музыкальными элементами
   - Генерация и обработка звуков
   - Анализ музыкальных последовательностей

## Авторы

Команда №2, ТГУ

## Поддержка

Для сообщений об ошибках и предложений используйте систему issues на GitHub.
